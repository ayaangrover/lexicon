"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.WebSocketTransport = void 0;
class WebSocketTransport {
    #onMessage = null;
    #websocket;
    constructor(websocket) {
        this.#websocket = websocket;
        this.#websocket.on('message', (message) => {
            this.#onMessage?.(message);
        });
    }
    setOnMessage(onMessage) {
        this.#onMessage = onMessage;
    }
    sendMessage(message) {
        this.#websocket.send(message);
    }
    close() {
        this.#onMessage = null;
        this.#websocket.close();
    }
}
exports.WebSocketTransport = WebSocketTransport;
