"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isErrorLike = isErrorLike;
exports.isErrnoException = isErrnoException;
exports.rewriteError = rewriteError;
exports.createProtocolErrorMessage = createProtocolErrorMessage;
function isErrorLike(obj) {
    return (typeof obj === 'object' && obj !== null && 'name' in obj && 'message' in obj);
}
function isErrnoException(obj) {
    return (isErrorLike(obj) &&
        ('errno' in obj || 'code' in obj || 'path' in obj || 'syscall' in obj));
}
function rewriteError(error, message, originalMessage) {
    error.message = message;
    error.originalMessage = originalMessage ?? error.originalMessage;
    return error;
}
function createProtocolErrorMessage(object) {
    let message = object.error.message;
    
    
    if (object.error &&
        typeof object.error === 'object' &&
        'data' in object.error) {
        message += ` ${object.error.data}`;
    }
    return message;
}
